// Firebase Authentication Setup
// Make sure to replace YOUR_API_KEY, YOUR_AUTH_DOMAIN, and other config values with your actual Firebase project settings

const firebaseConfig = const firebaseConfig = {
  apiKey: "YOUR_API_KEY",
  authDomain: "YOUR_AUTH_DOMAIN",
  projectId: "YOUR_PROJECT_ID",
  storageBucket: "YOUR_STORAGE_BUCKET",
  messagingSenderId: "YOUR_MESSAGING_SENDER_ID",
  appId: "YOUR_APP_ID"
};

// Initialize Firebase
firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();

// Handle Sign Up
function signUp() {
  const email = document.getElementById("signup-email").value;
  const password = document.getElementById("signup-password").value;
  
  auth.createUserWithEmailAndPassword(email, password)
    .then((userCredential) => {
      alert("User Registered Successfully!");
      window.location.href = "level2.html"; // Redirect to dashboard
    })
    .catch((error) => alert(error.message));
}

// Handle Login
function login() {
  const email = document.getElementById("login-email").value;
  const password = document.getElementById("login-password").value;
  
  auth.signInWithEmailAndPassword(email, password)
    .then((userCredential) => {
      alert("Login Successful!");
      window.location.href = "level2.html"; // Redirect to dashboard
    })
    .catch((error) => alert(error.message));
}

// Handle Logout
function logout() {
  auth.signOut()
    .then(() => {
      alert("Logged Out Successfully!");
      window.location.href = "index.html";
    })
    .catch((error) => alert(error.message));
}

// Handle Password Reset
function resetPassword() {
  const email = document.getElementById("reset-email").value;
  
  auth.sendPasswordResetEmail(email)
    .then(() => alert("Password Reset Email Sent!"))
    .catch((error) => alert(error.message));
}

// Check Authentication Status
auth.onAuthStateChanged((user) => {
  if (user) {
    console.log("User logged in: ", user);
  } else {
    console.log("No user is logged in.");
  }
});

// Styles and Fonts
const styles = document.createElement("link");
styles.rel = "stylesheet";
styles.href = "../build/css/custom.min.css";
document.head.appendChild(styles);

const fontAwesome = document.createElement("link");
fontAwesome.rel = "stylesheet";
fontAwesome.href = "../vendors/font-awesome/css/font-awesome.min.css";
document.head.appendChild(fontAwesome);

const bootstrap = document.createElement("link");
bootstrap.rel = "stylesheet";
bootstrap.href = "../vendors/bootstrap/dist/css/bootstrap.min.css";
document.head.appendChild(bootstrap);

const animate = document.createElement("link");
animate.rel = "stylesheet";
animate.href = "../vendors/animate.css/animate.min.css";
document.head.appendChild(animate);

const nProgress = document.createElement("link");
nProgress.rel = "stylesheet";
nProgress.href = "../vendors/nprogress/nprogress.css";
document.head.appendChild(nProgress);
